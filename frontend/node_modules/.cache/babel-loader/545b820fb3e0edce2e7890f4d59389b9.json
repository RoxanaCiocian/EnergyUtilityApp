{"remainingRequest":"C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\src\\view\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\src\\view\\Login.vue","mtime":1637234377007},{"path":"C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1636730066041},{"path":"C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"C:\\Users\\andre\\Desktop\\DS_Git\\ds_30441_pasc_andreea_assignment_1\\final-project-AndreeaPasc-master\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1636730088268}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2FuZHJlL0Rlc2t0b3AvRFNfR2l0L2RzXzMwNDQxX3Bhc2NfYW5kcmVlYV9hc3NpZ25tZW50XzEvZmluYWwtcHJvamVjdC1BbmRyZWVhUGFzYy1tYXN0ZXIvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCByb3V0ZXIgZnJvbSAiLi4vcm91dGVyIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIZWxsb1dvcmxkIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZTogImxvZ2luIiwKICAgICAgbG9naW46IHsKICAgICAgICBlbWFpbDogIiIsCiAgICAgICAgdXNlcm5hbWU6ICJhZG1pbiIsCiAgICAgICAgcGFzc3dvcmQ6ICJXb29Ib28xISIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGF0dGVtcHRMb2dpbjogZnVuY3Rpb24gYXR0ZW1wdExvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9naW4iLCB0aGlzLmxvZ2luKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluKSB7CiAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNBZG1pbiJdKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvdXNlcnMiKTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNDdXN0b21lciJdKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvY3VzdG9tZXJzIik7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFsZXJ0KCJJbnZhbGlkIGNyZWRlbnRpYWxzISIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYXR0ZW1wdFJlZ2lzdGVyOiBmdW5jdGlvbiBhdHRlbXB0UmVnaXN0ZXIoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL3JlZ2lzdGVyIiwgX3RoaXMyLmxvZ2luKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHRvZ2dsZU1vZGU6IGZ1bmN0aW9uIHRvZ2dsZU1vZGUoKSB7CiAgICAgIHRoaXMubW9kZSA9IHRoaXMubW9kZSA9PT0gImxvZ2luIiA/ICJyZWdpc3RlciIgOiAibG9naW4iOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9sb2dvdXQiKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiBpc0xvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9LAogICAgaW5Mb2dpbk1vZGU6IGZ1bmN0aW9uIGluTG9naW5Nb2RlKCkgewogICAgICByZXR1cm4gdGhpcy5tb2RlID09PSAibG9naW4iOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,OAAA,MAAA,MAAA,WAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,QAAA,EAAA;AAHA;AAFA,KAAA;AAAA,GAFA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAAA;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAFA,MAEA,IAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,YAAA;AACA;AACA,SANA,MAMA;AACA,UAAA,KAAA,CAAA,sBAAA,CAAA;AACA;AACA,OAVA;AAWA,KAbA;AAcA,IAAA,eAdA,6BAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,MAAA,CAAA,KAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAhBA;AAiBA,IAAA,UAjBA,wBAiBA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,KAAA,OAAA,GAAA,UAAA,GAAA,OAAA;AACA,KAnBA;AAoBA,IAAA,MApBA,oBAoBA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA;AAtBA,GAVA;AAkCA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,WAAA,EAAA,uBAAA;AACA,aAAA,KAAA,IAAA,KAAA,OAAA;AACA;AANA;AAlCA,CAAA","sourcesContent":["<template>\n    <v-container>\n        <v-layout row justify-center pt-3>\n            <v-flex xs4 class=\"grey lighten-4\">\n                <v-container class=\"text-xs-center\">\n                    <v-card flat>\n                        <v-card-title primary-title>\n                            <h4 v-if=\"inLoginMode\">Login</h4>\n                            <h4 v-else>Register</h4>\n                        </v-card-title>\n                        <v-form>\n                            <v-text-field\n                                v-if=\"mode === 'register'\"\n                                prepend-icon=\"email\"\n                                name=\"Email\"\n                                label=\"Email\"\n                                v-model=\"login.email\"\n                                validate-on-blur\n                            ></v-text-field>\n                            <v-text-field\n                                prepend-icon=\"person\"\n                                name=\"Username\"\n                                label=\"Username\"\n                                v-model=\"login.username\"\n                                validate-on-blur\n                            ></v-text-field>\n                          <v-text-field\n                              v-if=\"mode === 'register'\"\n                              prepend-icon=\"address\"\n                              name=\"Address\"\n                              label=\"Address\"\n                              type=\"address\"\n                              v-model=\"login.address\"\n                              validate-on-blur\n                          ></v-text-field>\n                          <v-text-field\n                              v-if=\"mode === 'register'\"\n                              prepend-icon=\"age\"\n                              name=\"Age\"\n                              label=\"Age\"\n                              type=\"age\"\n                              v-model=\"login.age\"\n                              validate-on-blur\n                          ></v-text-field>\n                            <v-text-field\n                                prepend-icon=\"lock\"\n                                name=\"Password\"\n                                label=\"Password\"\n                                type=\"password\"\n                                v-model=\"login.password\"\n                                validate-on-blur\n                            ></v-text-field>\n                            <v-card-actions>\n                                <v-container>\n                                    <v-layout v-if=\"inLoginMode\" row justify-center>\n                                        <v-btn primary large block @click=\"attemptLogin\"\n                                    >Login</v-btn\n                                    >\n                                    <v-btn plain @click=\"toggleMode\">\n                                    No account? Click to register!\n                                </v-btn>\n        </v-layout>\n\n        <v-layout v-else row justify-center>\n            <v-btn primary large block @click=\"attemptRegister\"\n        >Register</v-btn\n        >\n        <v-btn plain @click=\"toggleMode\">\n        Already registered? Click to login!\n    </v-btn>\n</v-layout>\n\n<v-layout v-if=\"isLoggedIn\" row justify-center>\n    <v-btn @click=\"logout\"> Logout </v-btn>\n</v-layout>\n</v-container>\n</v-card-actions>\n</v-form>\n</v-card>\n</v-container>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\n    import router from \"../router\";\n    export default {\n    name: \"HelloWorld\",\n    data: () => ({\n    mode: \"login\",\n    login: {\n    email: \"\",\n    username: \"admin\",\n    password: \"WooHoo1!\",\n},\n}),\n    methods: {\n    attemptLogin() {\n    this.$store.dispatch(\"auth/login\", this.login).then(() => {\n    if (this.$store.state.auth.status.loggedIn) {\n    if (this.$store.getters[\"auth/isAdmin\"]) {\n    router.push(\"/users\");\n} else if (this.$store.getters[\"auth/isCustomer\"])  {\n      router.push(\"/customers\");\n    }\n} else {\n    alert(\"Invalid credentials!\");\n}\n});\n},\n    async attemptRegister() {\n    await this.$store.dispatch(\"auth/register\", this.login);\n},\n    toggleMode() {\n    this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n},\n    logout() {\n    this.$store.dispatch(\"auth/logout\");\n},\n},\n    computed: {\n    isLoggedIn: function () {\n    return this.$store.state.auth.status.loggedIn;\n},\n    inLoginMode: function () {\n    return this.mode === \"login\";\n},\n},\n};\n</script>"],"sourceRoot":"src/view"}]}