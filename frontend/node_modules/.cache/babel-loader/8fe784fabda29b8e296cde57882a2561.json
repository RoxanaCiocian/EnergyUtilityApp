{"remainingRequest":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\babel-loader\\lib\\index.js!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\api\\services\\booking.js","dependencies":[{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\api\\services\\booking.js","mtime":1625134812277},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\babel.config.js","mtime":1637174623000},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\babel-loader\\lib\\index.js","mtime":1636981172297},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\eslint-loader\\index.js","mtime":1636730085405}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC1zZWFyY2gtcGFyYW1zLmpzIjsKaW1wb3J0IGF1dGhIZWFkZXIsIHsgQkFTRV9VUkwsIEhUVFAgfSBmcm9tICIuLi9odHRwIjsKZXhwb3J0IGRlZmF1bHQgewogIGFsbEJvb2tpbmdzOiBmdW5jdGlvbiBhbGxCb29raW5ncygpIHsKICAgIHJldHVybiBIVFRQLmdldChCQVNFX1VSTCArICIvYm9va2luZyIsIHsKICAgICAgaGVhZGVyczogYXV0aEhlYWRlcigpCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgYWxsQ3VzdG9tZXJzOiBmdW5jdGlvbiBhbGxDdXN0b21lcnMoKSB7CiAgICByZXR1cm4gSFRUUC5nZXQoQkFTRV9VUkwgKyAiL2Jvb2tpbmcvY3VzdG9tZXJzIiwgewogICAgICBoZWFkZXJzOiBhdXRoSGVhZGVyKCkKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBhbGxGbGlnaHRzOiBmdW5jdGlvbiBhbGxGbGlnaHRzKCkgewogICAgcmV0dXJuIEhUVFAuZ2V0KEJBU0VfVVJMICsgIi9ib29raW5nL2ZsaWdodHMiLCB7CiAgICAgIGhlYWRlcnM6IGF1dGhIZWFkZXIoKQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIGNyZWF0ZUJvb2tpbmc6IGZ1bmN0aW9uIGNyZWF0ZUJvb2tpbmcoYm9va2luZykgewogICAgcmV0dXJuIEhUVFAucG9zdChCQVNFX1VSTCArICIvYm9va2luZyIsIGJvb2tpbmcsIHsKICAgICAgaGVhZGVyczogYXV0aEhlYWRlcigpCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgdXBkYXRlQm9va2luZzogZnVuY3Rpb24gdXBkYXRlQm9va2luZyhpZCwgYm9va2luZykgewogICAgcmV0dXJuIEhUVFAucHV0KEJBU0VfVVJMICsgIi9ib29raW5nLyIgKyBpZCwgYm9va2luZywgewogICAgICBoZWFkZXJzOiBhdXRoSGVhZGVyKCkKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgfSwKICBhbGxCb29raW5nc0ZvckN1c3RvbWVyOiBmdW5jdGlvbiBhbGxCb29raW5nc0ZvckN1c3RvbWVyKGlkKSB7CiAgICByZXR1cm4gSFRUUC5nZXQoQkFTRV9VUkwgKyAiL2Jvb2tpbmcvY3VzdG9tZXIvIiArIGlkLCB7CiAgICAgIGhlYWRlcnM6IGF1dGhIZWFkZXIoKQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIGRvd25sb2FkVGlja2V0OiBmdW5jdGlvbiBkb3dubG9hZFRpY2tldChpZCkgewogICAgcmV0dXJuIEhUVFAuZ2V0KEJBU0VfVVJMICsgIi9ib29raW5nL2N1c3RvbWVyL2Rvd25sb2FkLyIgKyBpZCwgewogICAgICByZXNwb25zZVR5cGU6ICJibG9iIiwKICAgICAgaGVhZGVyczogYXV0aEhlYWRlcigpCiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgZmlsZVVSTCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG5ldyBCbG9iKFtyZXNwb25zZS5kYXRhXSkpOwogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgbGluay5ocmVmID0gZmlsZVVSTDsKICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgIlRpY2tldCIgKyBpZCArICIucGRmIik7CiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGluayk7CiAgICAgIGxpbmsuY2xpY2soKTsKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["D:/SCHOOL/AN 4/DS/Assig2/frontendV2/src/api/services/booking.js"],"names":["authHeader","BASE_URL","HTTP","allBookings","get","headers","then","response","data","allCustomers","allFlights","createBooking","booking","post","updateBooking","id","put","allBookingsForCustomer","downloadTicket","responseType","fileURL","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click"],"mappings":"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","sourcesContent":["import authHeader, { BASE_URL, HTTP } from \"../http\";\n\nexport default {\n  allBookings() {\n    return HTTP.get(BASE_URL + \"/booking\", {\n      headers: authHeader(),\n    }).then((response) => {\n      return response.data;\n    });\n  },\n  allCustomers() {\n    return HTTP.get(BASE_URL + \"/booking/customers\", {\n      headers: authHeader(),\n    }).then((response) => {\n      return response.data;\n    });\n  },\n  allFlights() {\n    return HTTP.get(BASE_URL + \"/booking/flights\", {\n      headers: authHeader(),\n    }).then((response) => {\n      return response.data;\n    });\n  },\n  createBooking(booking) {\n    return HTTP.post(BASE_URL + \"/booking\", booking, {\n      headers: authHeader(),\n    }).then((response) => {\n      return response.data;\n    });\n  },\n  updateBooking(id, booking) {\n    return HTTP.put(BASE_URL + \"/booking/\" + id, booking, {\n      headers: authHeader(),\n    }).then((response) => {\n      return response.data;\n    });\n  },\n  allBookingsForCustomer(id) {\n    return HTTP.get(BASE_URL + \"/booking/customer/\" + id, {\n      headers: authHeader(),\n    }).then((response) => {\n      return response.data;\n    });\n  },\n  downloadTicket(id) {\n    return HTTP.get(BASE_URL + \"/booking/customer/download/\" + id, {\n      responseType: \"blob\",\n      headers: authHeader(),\n    }).then((response) => {\n      const fileURL = window.URL.createObjectURL(new Blob([response.data]));\n      const link = document.createElement(\"a\");\n      link.href = fileURL;\n      link.setAttribute(\"download\", \"Ticket\" + id + \".pdf\");\n      document.body.appendChild(link);\n      link.click();\n    });\n  },\n};\n"]}]}