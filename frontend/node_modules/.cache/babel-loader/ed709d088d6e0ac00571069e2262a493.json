{"remainingRequest":"D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\node_modules\\babel-loader\\lib\\index.js!D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\src\\views\\Login.vue","mtime":1637283180923},{"path":"D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\babel.config.js","mtime":1637174623000},{"path":"D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\node_modules\\babel-loader\\lib\\index.js","mtime":1636981172297},{"path":"D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\assignment2\\assignment2\\andreea\\front_andreeas\\node_modules\\vue-loader\\lib\\index.js","mtime":1636981183272}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxTQ0hPT0xcXEFOIDRcXERTXFxhc3NpZ25tZW50MlxcYXNzaWdubWVudDJcXGFuZHJlZWFcXGZyb250X2FuZHJlZWFzXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxhc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJvdXRlciBmcm9tICIuLi9yb3V0ZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhlbGxvV29ybGQiLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlOiAibG9naW4iLAogICAgICBsb2dpbjogewogICAgICAgIGVtYWlsOiAiIiwKICAgICAgICB1c2VybmFtZTogImFkbWluIiwKICAgICAgICBuYW1lOiAiIiwKICAgICAgICBwaG9uZV9udW1iZXI6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiQWRtaW5wYXNzITEiCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhdHRlbXB0TG9naW46IGZ1bmN0aW9uIGF0dGVtcHRMb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ2luIiwgdGhpcy5sb2dpbikudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbikgewogICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJhdXRoL2lzQWRtaW4iXSkgewogICAgICAgICAgICByb3V0ZXIucHVzaCgiL3VzZXJzIik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5nZXR0ZXJzWyJhdXRoL2lzRW1wbG95ZWUiXSkgewogICAgICAgICAgICByb3V0ZXIucHVzaCgiL2Jvb2tpbmciKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNDdXN0b21lciJdKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvZGV2aWNlcy9jbGllbnQiKTsKICAgICAgICAgICAgY29uc29sZS5sb2coX3RoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvZ2V0Q3VzdG9tZXJJRCJdKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIkludmFsaWQgY3JlZGVudGlhbHMhIik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBhdHRlbXB0UmVnaXN0ZXI6IGZ1bmN0aW9uIGF0dGVtcHRSZWdpc3RlcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kc3RvcmUuZGlzcGF0Y2goImF1dGgvcmVnaXN0ZXIiLCBfdGhpczIubG9naW4pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfdGhpczIubG9naW4uZW1haWwgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2dpbi5waG9uZV9udW1iZXIgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2dpbi5uYW1lID0gIiI7CiAgICAgICAgICAgICAgICBfdGhpczIubG9naW4udXNlcm5hbWUgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2dpbi5wYXNzd29yZCA9ICIiOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdG9nZ2xlTW9kZTogZnVuY3Rpb24gdG9nZ2xlTW9kZSgpIHsKICAgICAgdGhpcy5tb2RlID0gdGhpcy5tb2RlID09PSAibG9naW4iID8gInJlZ2lzdGVyIiA6ICJsb2dpbiI7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ291dCIpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGlzTG9nZ2VkSW46IGZ1bmN0aW9uIGlzTG9nZ2VkSW4oKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbjsKICAgIH0sCiAgICBpbkxvZ2luTW9kZTogZnVuY3Rpb24gaW5Mb2dpbk1vZGUoKSB7CiAgICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICJsb2dpbiI7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,OAAA,MAAA,MAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,YAAA,EAAA,EAJA;AAKA,QAAA,QAAA,EAAA;AALA;AAFA,KAAA;AAAA,GAHA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAAA;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,QAAA;AACA;;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA;;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,iBAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,oBAAA,CAAA;AACA;AACA,SAXA,MAWA;AACA,UAAA,KAAA,CAAA,sBAAA,CAAA;AACA;AACA,OAfA;AAgBA,KAlBA;AAmBA,IAAA,eAnBA,6BAmBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,MAAA,CAAA,KAAA,CADA;;AAAA;AAEA,gBAAA,MAAA,CAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,EAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KA1BA;AA4BA,IAAA,UA5BA,wBA4BA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,KAAA,OAAA,GAAA,UAAA,GAAA,OAAA;AACA,KA9BA;AAgCA,IAAA,MAhCA,oBAgCA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA;AAlCA,GAbA;AAiDA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,WAAA,EAAA,uBAAA;AACA,aAAA,KAAA,IAAA,KAAA,OAAA;AACA;AANA;AAjDA,CAAA","sourcesContent":["<template>\n  <v-container>\n    <v-layout row justify-center pt-3>\n      <v-flex xs4 class=\"grey lighten-4\">\n        <v-container class=\"text-xs-center\">\n          <v-card flat>\n            <v-card-title primary-title>\n              <h4 v-if=\"inLoginMode\">Login</h4>\n              <h4 v-else>Register</h4>\n            </v-card-title>\n            <v-form>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                prepend-icon=\"email\"\n                name=\"Email\"\n                label=\"Email\"\n                v-model=\"login.email\"\n                validate-on-blur\n              >\n              </v-text-field>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                name=\"Phone number\"\n                label=\"Phone number\"\n                type=\"phone_number\"\n                v-model=\"login.phone_number\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                name=\"Name \"\n                label=\"Name\"\n                type=\"name\"\n                v-model=\"login.name\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                prepend-icon=\"person\"\n                name=\"Username\"\n                label=\"Username\"\n                v-model=\"login.username\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                prepend-icon=\"lock\"\n                name=\"Password\"\n                label=\"Password\"\n                type=\"password\"\n                v-model=\"login.password\"\n                validate-on-blur\n              ></v-text-field>\n\n              <v-card-actions>\n                <v-container>\n                  <v-layout v-if=\"inLoginMode\" row justify-center>\n                    <v-btn primary large block @click=\"attemptLogin\"\n                      >Login</v-btn\n                    >\n                    <!-- <v-btn plain @click=\"toggleMode\">\n                      No account? Click to register!\n                    </v-btn> -->\n                  </v-layout>\n\n                  <v-layout v-else row justify-center>\n                    <v-btn primary large block @click=\"attemptRegister\"\n                      >Register</v-btn\n                    >\n                    <v-btn plain @click=\"toggleMode\">\n                      Already registered? Click to login!\n                    </v-btn>\n                  </v-layout>\n\n                  <v-layout v-if=\"isLoggedIn\" row justify-center>\n                    <v-btn @click=\"logout\"> Logout </v-btn>\n                  </v-layout>\n                </v-container>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-container>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport router from \"../router\";\n\nexport default {\n  name: \"HelloWorld\",\n\n  data: () => ({\n    mode: \"login\",\n    login: {\n      email: \"\",\n      username: \"admin\",\n      name: \"\",\n      phone_number: \"\",\n      password: \"Adminpass!1\",\n    },\n  }),\n  methods: {\n    attemptLogin() {\n      this.$store.dispatch(\"auth/login\", this.login).then(() => {\n        if (this.$store.state.auth.status.loggedIn) {\n          if (this.$store.getters[\"auth/isAdmin\"]) {\n            router.push(\"/users\");\n          }\n          if (this.$store.getters[\"auth/isEmployee\"]) {\n            router.push(\"/booking\");\n          }\n          if (this.$store.getters[\"auth/isCustomer\"]) {\n            router.push(\"/devices/client\");\n            console.log(this.$store.getters[\"auth/getCustomerID\"]);\n          }\n        } else {\n          alert(\"Invalid credentials!\");\n        }\n      });\n    },\n    async attemptRegister() {\n      await this.$store.dispatch(\"auth/register\", this.login);\n      this.login.email = \"\";\n      this.login.phone_number = \"\";\n      this.login.name = \"\";\n      this.login.username = \"\";\n      this.login.password = \"\";\n    },\n\n    toggleMode() {\n      this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n    },\n\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n    },\n  },\n  computed: {\n    isLoggedIn: function () {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    inLoginMode: function () {\n      return this.mode === \"login\";\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}