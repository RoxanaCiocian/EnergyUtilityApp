{"remainingRequest":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\babel-loader\\lib\\index.js!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\store\\auth.module.js","dependencies":[{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\store\\auth.module.js","mtime":1639011330483},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\babel.config.js","mtime":1637174623000},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\babel-loader\\lib\\index.js","mtime":1636981172297},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\eslint-loader\\index.js","mtime":1636730085405}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxTQ0hPT0xcXEFOIDRcXERTXFxBc3NpZzJcXGZyb250ZW5kVjJcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcy5qcyI7CmltcG9ydCBhcGkgZnJvbSAiLi4vYXBpIjsKdmFyIHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ1c2VyIikpOyAvL2NvbnN0IGRldmljZSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oImRldmljZSIpKTsKCnZhciBpbml0aWFsU3RhdGUgPSB1c2VyID8gewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IHRydWUKICB9LAogIHVzZXI6IHVzZXIKfSA6IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiBmYWxzZQogIH0sCiAgdXNlcjogbnVsbAp9OwpleHBvcnQgdmFyIGF1dGggPSB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogaW5pdGlhbFN0YXRlLAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCB1c2VyKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGNvbW1pdDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGFwaS5hdXRoLmxvZ2luKHVzZXIpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgY29tbWl0KCJsb2dpblN1Y2Nlc3MiLCB1c2VyKTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh1c2VyKTsKICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgICBjb21taXQoImxvZ2luRmFpbHVyZSIpOwogICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgYXBpLmF1dGgubG9nb3V0KCk7CiAgICAgIGNvbW1pdCgibG9nb3V0Iik7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKF9yZWYzLCB1c2VyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIHJldHVybiBhcGkuYXV0aC5yZWdpc3Rlcih1c2VyKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgicmVnaXN0ZXJTdWNjZXNzIik7CiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXNwb25zZS5kYXRhKTsKICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCJyZWdpc3RlckZhaWx1cmUiKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgbG9naW5TdWNjZXNzOiBmdW5jdGlvbiBsb2dpblN1Y2Nlc3Moc3RhdGUsIHVzZXIpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gdHJ1ZTsKICAgICAgc3RhdGUudXNlciA9IHVzZXI7CiAgICB9LAogICAgbG9naW5GYWlsdXJlOiBmdW5jdGlvbiBsb2dpbkZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICAgIHN0YXRlLnVzZXIgPSBudWxsOwogICAgfSwKICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCiAgICByZWdpc3RlclN1Y2Nlc3M6IGZ1bmN0aW9uIHJlZ2lzdGVyU3VjY2VzcyhzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0sCiAgICByZWdpc3RlckZhaWx1cmU6IGZ1bmN0aW9uIHJlZ2lzdGVyRmFpbHVyZShzdGF0ZSkgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSBmYWxzZTsKICAgIH0KICB9LAogIGdldHRlcnM6IHsKICAgIGlzQWRtaW46IGZ1bmN0aW9uIGlzQWRtaW4oc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIucm9sZXMuaW5jbHVkZXMoIkFETUlOIik7CiAgICB9LAogICAgaXNFbXBsb3llZTogZnVuY3Rpb24gaXNFbXBsb3llZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlci5yb2xlcy5pbmNsdWRlcygiRU1QTE9ZRUUiKTsKICAgIH0sCiAgICBpc0N1c3RvbWVyOiBmdW5jdGlvbiBpc0N1c3RvbWVyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLnJvbGVzLmluY2x1ZGVzKCJDTElFTlQiKTsKICAgIH0sCiAgICBnZXRDdXN0b21lcklEOiBmdW5jdGlvbiBnZXRDdXN0b21lcklEKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLmlkOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:/SCHOOL/AN 4/DS/Assig2/frontendV2/src/store/auth.module.js"],"names":["api","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","register","response","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure","getters","isAdmin","roles","includes","isEmployee","isCustomer","getCustomerID","id"],"mappings":"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","sourcesContent":["import api from \"../api\";\n\nconst user = JSON.parse(localStorage.getItem(\"user\"));\n//const device = JSON.parse(localStorage.getItem(\"device\"));\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    async login({ commit }, user) {\n      return api.auth.login(user).then(\n        (user) => {\n          commit(\"loginSuccess\", user);\n          return Promise.resolve(user);\n          \n        },\n        (error) => {\n          commit(\"loginFailure\");\n          return Promise.reject(error);\n        }\n      );\n    },\n    logout({ commit }) {\n      api.auth.logout();\n      commit(\"logout\");\n    },\n    register({ commit }, user) {\n      return api.auth.register(user).then(\n        (response) => {\n          commit(\"registerSuccess\");\n          return Promise.resolve(response.data);\n        },\n        (error) => {\n          commit(\"registerFailure\");\n          return Promise.reject(error);\n        }\n      );\n    },\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    },\n  },\n  getters: {\n    isAdmin: (state) => {\n      return state.user.roles.includes(\"ADMIN\");\n    },\n    isEmployee: (state) => {\n      return state.user.roles.includes(\"EMPLOYEE\");\n    },\n    isCustomer: (state) => { \n      return state.user.roles.includes(\"CLIENT\");\n    },\n    getCustomerID: (state) => {\n      return state.user.id;\n    },\n  },\n};\n"]}]}