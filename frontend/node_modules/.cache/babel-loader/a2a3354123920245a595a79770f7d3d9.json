{"remainingRequest":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\babel-loader\\lib\\index.js!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\views\\Login.vue","mtime":1639659545082},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\babel.config.js","mtime":1637174623000},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\babel-loader\\lib\\index.js","mtime":1636981172297},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\vue-loader\\lib\\index.js","mtime":1636981183272}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxTQ0hPT0xcXEFOIDRcXERTXFxBc3NpZzJcXGZyb250ZW5kVjJcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXGFzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiSGVsbG9Xb3JsZCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1vZGU6ICJsb2dpbiIsCiAgICAgIGxvZ2luOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHVzZXJuYW1lOiAiYWRtaW4iLAogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHBob25lX251bWJlcjogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICJhZG1pbiIKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGF0dGVtcHRMb2dpbjogZnVuY3Rpb24gYXR0ZW1wdExvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9naW4iLCB0aGlzLmxvZ2luKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluKSB7CiAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNBZG1pbiJdKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvdXNlcnMiKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoX3RoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNFbXBsb3llZSJdKSB7CiAgICAgICAgICAgIHJvdXRlci5wdXNoKCIvYm9va2luZyIpOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChfdGhpcy4kc3RvcmUuZ2V0dGVyc1siYXV0aC9pc0N1c3RvbWVyIl0pIHsKICAgICAgICAgICAgcm91dGVyLnB1c2goIi9kZXZpY2VzL2NsaWVudCIpOwogICAgICAgICAgICBjb25zb2xlLmxvZyhfdGhpcy4kc3RvcmUuZ2V0dGVyc1siYXV0aC9nZXRDdXN0b21lcklEIl0pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgiSW52YWxpZCBjcmVkZW50aWFscyEiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGF0dGVtcHRSZWdpc3RlcjogZnVuY3Rpb24gYXR0ZW1wdFJlZ2lzdGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9yZWdpc3RlciIsIF90aGlzMi5sb2dpbik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMi5sb2dpbi5lbWFpbCA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMyLmxvZ2luLnBob25lX251bWJlciA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMyLmxvZ2luLm5hbWUgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMi5sb2dpbi51c2VybmFtZSA9ICIiOwogICAgICAgICAgICAgICAgX3RoaXMyLmxvZ2luLnBhc3N3b3JkID0gIiI7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB0b2dnbGVNb2RlOiBmdW5jdGlvbiB0b2dnbGVNb2RlKCkgewogICAgICB0aGlzLm1vZGUgPSB0aGlzLm1vZGUgPT09ICJsb2dpbiIgPyAicmVnaXN0ZXIiIDogImxvZ2luIjsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dCgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9nb3V0Iik7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gaXNMb2dnZWRJbigpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwogICAgfSwKICAgIGluTG9naW5Nb2RlOiBmdW5jdGlvbiBpbkxvZ2luTW9kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMubW9kZSA9PT0gImxvZ2luIjsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA,OAAA,MAAA,MAAA,WAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAGA,EAAA,IAAA,EAAA;AAAA,WAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA,OAFA;AAGA,QAAA,IAAA,EAAA,EAHA;AAIA,QAAA,YAAA,EAAA,EAJA;AAKA,QAAA,QAAA,EAAA;AALA;AAFA,KAAA;AAAA,GAHA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,KAAA,EAAA,IAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA,EAAA;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,cAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,QAAA;AACA;;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,UAAA;AACA;;AACA,cAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,iBAAA,CAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,CAAA,iBAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA,oBAAA,CAAA;AACA;AACA,SAXA,MAWA;AACA,UAAA,KAAA,CAAA,sBAAA,CAAA;AACA;AACA,OAfA;AAgBA,KAlBA;AAmBA,IAAA,eAnBA,6BAmBA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,MAAA,CAAA,QAAA,CAAA,eAAA,EAAA,MAAA,CAAA,KAAA,CADA;;AAAA;AAEA,gBAAA,MAAA,CAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,YAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,IAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,EAAA;AACA,gBAAA,MAAA,CAAA,KAAA,CAAA,QAAA,GAAA,EAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KA1BA;AA4BA,IAAA,UA5BA,wBA4BA;AACA,WAAA,IAAA,GAAA,KAAA,IAAA,KAAA,OAAA,GAAA,UAAA,GAAA,OAAA;AACA,KA9BA;AAgCA,IAAA,MAhCA,oBAgCA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA;AACA;AAlCA,GAbA;AAiDA,EAAA,QAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA,KAHA;AAIA,IAAA,WAAA,EAAA,uBAAA;AACA,aAAA,KAAA,IAAA,KAAA,OAAA;AACA;AANA;AAjDA,CAAA","sourcesContent":["<template>\n  <v-container>\n    <v-layout row justify-center pt-3>\n      <v-flex xs4 class=\"grey lighten-4\">\n        <v-container class=\"text-xs-center\">\n          <v-card flat>\n            <v-card-title primary-title>\n              <h4 v-if=\"inLoginMode\">Login</h4>\n              <h4 v-else>Register</h4>\n            </v-card-title>\n            <v-form>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                prepend-icon=\"email\"\n                name=\"Email\"\n                label=\"Email\"\n                v-model=\"login.email\"\n                validate-on-blur\n              >\n              </v-text-field>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                name=\"Phone number\"\n                label=\"Phone number\"\n                type=\"phone_number\"\n                v-model=\"login.phone_number\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                v-if=\"mode === 'register'\"\n                name=\"Name \"\n                label=\"Name\"\n                type=\"name\"\n                v-model=\"login.name\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                prepend-icon=\"person\"\n                name=\"Username\"\n                label=\"Username\"\n                v-model=\"login.username\"\n                validate-on-blur\n              ></v-text-field>\n              <v-text-field\n                prepend-icon=\"lock\"\n                name=\"Password\"\n                label=\"Password\"\n                type=\"password\"\n                v-model=\"login.password\"\n                validate-on-blur\n              ></v-text-field>\n\n              <v-card-actions>\n                <v-container>\n                  <v-layout v-if=\"inLoginMode\" row justify-center>\n                    <v-btn primary large block @click=\"attemptLogin\"\n                      >Login</v-btn\n                    >\n                    <!-- <v-btn plain @click=\"toggleMode\">\n                      No account? Click to register!\n                    </v-btn> -->\n                  </v-layout>\n\n                  <v-layout v-else row justify-center>\n                    <v-btn primary large block @click=\"attemptRegister\"\n                      >Register</v-btn\n                    >\n                    <v-btn plain @click=\"toggleMode\">\n                      Already registered? Click to login!\n                    </v-btn>\n                  </v-layout>\n\n                  <v-layout v-if=\"isLoggedIn\" row justify-center>\n                    <v-btn @click=\"logout\"> Logout </v-btn>\n                  </v-layout>\n                </v-container>\n              </v-card-actions>\n            </v-form>\n          </v-card>\n        </v-container>\n      </v-flex>\n    </v-layout>\n  </v-container>\n</template>\n\n<script>\nimport router from \"../router\";\n\nexport default {\n  name: \"HelloWorld\",\n\n  data: () => ({\n    mode: \"login\",\n    login: {\n      email: \"\",\n      username: \"admin\",\n      name: \"\",\n      phone_number: \"\",\n      password: \"admin\",\n    },\n  }),\n  methods: {\n    attemptLogin() {\n      this.$store.dispatch(\"auth/login\", this.login).then(() => {\n        if (this.$store.state.auth.status.loggedIn) {\n          if (this.$store.getters[\"auth/isAdmin\"]) {\n            router.push(\"/users\");\n          }\n          if (this.$store.getters[\"auth/isEmployee\"]) {\n            router.push(\"/booking\");\n          }\n          if (this.$store.getters[\"auth/isCustomer\"]) {\n            router.push(\"/devices/client\");\n            console.log(this.$store.getters[\"auth/getCustomerID\"]);\n          }\n        } else {\n          alert(\"Invalid credentials!\");\n        }\n      });\n    },\n    async attemptRegister() {\n      await this.$store.dispatch(\"auth/register\", this.login);\n      this.login.email = \"\";\n      this.login.phone_number = \"\";\n      this.login.name = \"\";\n      this.login.username = \"\";\n      this.login.password = \"\";\n    },\n\n    toggleMode() {\n      this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n    },\n\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n    },\n  },\n  computed: {\n    isLoggedIn: function () {\n      return this.$store.state.auth.status.loggedIn;\n    },\n    inLoginMode: function () {\n      return this.mode === \"login\";\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}