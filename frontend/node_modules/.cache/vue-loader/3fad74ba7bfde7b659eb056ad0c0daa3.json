{"remainingRequest":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\src\\view\\CustomerList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\src\\view\\CustomerList.vue","mtime":1625137523000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAiLi4vYXBpIjsKaW1wb3J0IFJlY2lwZURpYWxvZyBmcm9tICIuLi9jb21wb25lbnRzL1JlY2lwZURpYWxvZyI7CmltcG9ydCBTb2NrSlMgZnJvbSAic29ja2pzLWNsaWVudCI7CmltcG9ydCBTdG9tcCBmcm9tICJ3ZWJzdG9tcC1jbGllbnQiOwppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CmltcG9ydCB7IFN0cmlwZUNoZWNrb3V0IH0gZnJvbSAnQHZ1ZS1zdHJpcGUvdnVlLXN0cmlwZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlY2lwZUxpc3QiLAogIGNvbXBvbmVudHM6IHsgUmVjaXBlRGlhbG9nLCBTdHJpcGVDaGVja291dCB9LAogIGRhdGEoKSB7CiAgICB0aGlzLnB1Ymxpc2hhYmxlS2V5ID0gInBrX3Rlc3RfNTFKODlLTkJqTER4TEFEWHlKZ3ZiUkN0bjhPVlM1ODdBcVlnMkR0b3IxWTI5OE40N1c0NDBQRzJCWVh3UXQ1ZVdnSGtaUkxlU2NwazdxM0xITThUZmJSdUMwMFBpS2lYUFNHIjsKICAgIHJldHVybiB7CiAgICAgIHJlY2lwZXM6IFtdLAogICAgICBzZWFyY2g6ICIiLAogICAgICBtZXNzYWdlOiAiIiwKICAgICAgaGVhZGVyczogWwogICAgICAgIHsKICAgICAgICAgIHRleHQ6ICJUaXRsZSIsCiAgICAgICAgICBhbGlnbjogInN0YXJ0IiwKICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwKICAgICAgICAgIHZhbHVlOiAidGl0bGUiLAogICAgICAgIH0sCiAgICAgICAgeyB0ZXh0OiAiSW5ncmVkaWVudHMiLCB2YWx1ZTogImluZ3JlZGllbnRzIiB9LAogICAgICAgIHsgdGV4dDogIlF1YW50aXR5IChnKSIsIHZhbHVlOiAicXVhbnRpdHkiIH0sCiAgICAgICAgeyB0ZXh0OiAiUHJpY2UiLCB2YWx1ZTogInByaWNlIiB9LAogICAgICBdLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbGluZUl0ZW1zOiBbCiAgICAgICAgewogICAgICAgICAgcHJpY2U6ICJwcmljZV8xSjhJcmlCakxEeExBRFh5dk11a2gxVEEiLCAvLyBUaGUgaWQgb2YgdGhlIG9uZS10aW1lIHByaWNlIHlvdSBjcmVhdGVkIGluIHlvdXIgU3RyaXBlIGRhc2hib2FyZAogICAgICAgICAgcXVhbnRpdHk6IDEsCiAgICAgICAgfSwKICAgICAgXSwKICAgICAgc3VjY2Vzc1VSTDogJ2h0dHBzOi8vdnVlc3RyaXBlLmNvbS9zdHJpcGUtY2hlY2tvdXQvb25lLXRpbWUtcGF5bWVudC8nLAogICAgICBjYW5jZWxVUkw6ICdodHRwczovL3Z1ZXN0cmlwZS5jb20vc3RyaXBlLWNoZWNrb3V0L29uZS10aW1lLXBheW1lbnQvJywKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHNlbGVjdGVkUmVjaXBlOiB7fSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CgogICAgc3VibWl0KCkgewogICAgICAvLyBZb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvIFN0cmlwZSdzIHNlY3VyZSBjaGVja291dCBwYWdlCiAgICAgIHRoaXMuJHJlZnMuY2hlY2tvdXRSZWYucmVkaXJlY3RUb0NoZWNrb3V0KCk7CiAgICAgIHJldHVybiB0aGlzLm9yZGVyKCkKICAgIH0sCgogICAgc2VuZCgpewogICAgICBhcGkuY3VzdG9tZXJzLnNlbmRNYWlsKHRoaXMubWVzc2FnZSkKICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMuJGVtaXQoInJlZnJlc2giKSk7CiAgICB9LAogICAgb3JkZXIoKXsKICAgICAgICB2YXIgc29ja2V0ID0gbmV3IFNvY2tKUygiaHR0cDovL2xvY2FsaG9zdDo4MDg4L2FwaS93ZWJzb2NrZXQiKTsKICAgICAgICB2YXIgc3RvbXBDbGllbnQgPSBTdG9tcC5vdmVyKHNvY2tldCk7CiAgICAgICAgc3RvbXBDbGllbnQuY29ubmVjdCgKICAgICAgICAgICAge30sCiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycwogICAgICAgICAgICBmcmFtZSA9PnsKCiAgICAgICAgICAgICAgc3RvbXBDbGllbnQuc2VuZCgiL21lc3NhZ2VzIiwgSlNPTi5zdHJpbmdpZnkoe21lc3NhZ2U6ICJOZXcgb3JkZXIgaGFzIGJlZW4gcGxhY2VkIn0pKQoKICAgICAgICAgICAgICAvL3ZhciB1c2VybmFtZSA9IHRoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvZ2V0VXNlcm5hbWUiXTsKICAgICAgICAgICAgfQogICAgICAgICkKICAgIH0sCiAgICBsb2dvdXQoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhdXRoL2xvZ291dCIpOwogICAgICByb3V0ZXIucHVzaCgiLyIpOwogICAgfSwKCiAgICBhc3luYyByZWZyZXNoTGlzdCgpIHsKICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuc2VsZWN0ZWRSZWNpcGUgPSB7fTsKICAgICAgdGhpcy5yZWNpcGVzID0gYXdhaXQgYXBpLnJlY2lwZXMuYWxsUmVjaXBlcygpOwogICAgfSwKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5yZWZyZXNoTGlzdCgpOwogIH0sCn07Cg=="},{"version":3,"sources":["CustomerList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"CustomerList.vue","sourceRoot":"src/view","sourcesContent":["<template>\n  <v-card>\n    <v-card-title>\n      Recipes\n      <v-spacer></v-spacer>\n      <v-text-field\n          v-model=\"search\"\n          append-icon=\"mdi-magnify\"\n          label=\"Search\"\n          single-line\n          hide-details\n      ></v-text-field>\n      <input v-model= \"message\" placeholder=\"Email Here\">\n      <v-btn @click=\"send\">Send</v-btn>\n    </v-card-title>\n    <v-data-table\n        :headers=\"headers\"\n        :items=\"recipes\"\n        :search=\"search\"\n    ></v-data-table>\n    <iframe\n        width=\"600\"\n        height=\"450\"\n        style=\"border:0\"\n        loading=\"lazy\"\n        allowfullscreen\n        src=\"https://www.google.com/maps/embed/v1/place?q=place_id:ChIJUyN2aONHRkcRRFNd1oakVRs&key=AIzaSyBR8cxgxePm65q9HH1C7xas6yQPix1E9h4\">\n    </iframe>\n    <div>\n      <stripe-checkout\n          ref=\"checkoutRef\"\n          mode=\"payment\"\n          :pk=\"publishableKey\"\n          :line-items=\"lineItems\"\n          :success-url=\"successURL\"\n          :cancel-url=\"cancelURL\"\n          @loading=\"v => loading = v\"\n      />\n      <v-btn @click=\"submit\">Checkout</v-btn>\n    </div>\n    <RecipeDialog\n        :opened=\"dialogVisible\"\n        :recipe=\"selectedRecipe\"\n        @refresh=\"refreshList\"\n    ></RecipeDialog>\n  </v-card>\n</template>\n\n<script>\nimport api from \"../api\";\nimport RecipeDialog from \"../components/RecipeDialog\";\nimport SockJS from \"sockjs-client\";\nimport Stomp from \"webstomp-client\";\nimport router from \"../router\";\nimport { StripeCheckout } from '@vue-stripe/vue-stripe';\n\nexport default {\n  name: \"RecipeList\",\n  components: { RecipeDialog, StripeCheckout },\n  data() {\n    this.publishableKey = \"pk_test_51J89KNBjLDxLADXyJgvbRCtn8OVS587AqYg2Dtor1Y298N47W440PG2BYXwQt5eWgHkZRLeScpk7q3LHM8TfbRuC00PiKiXPSG\";\n    return {\n      recipes: [],\n      search: \"\",\n      message: \"\",\n      headers: [\n        {\n          text: \"Title\",\n          align: \"start\",\n          sortable: false,\n          value: \"title\",\n        },\n        { text: \"Ingredients\", value: \"ingredients\" },\n        { text: \"Quantity (g)\", value: \"quantity\" },\n        { text: \"Price\", value: \"price\" },\n      ],\n      loading: false,\n      lineItems: [\n        {\n          price: \"price_1J8IriBjLDxLADXyvMukh1TA\", // The id of the one-time price you created in your Stripe dashboard\n          quantity: 1,\n        },\n      ],\n      successURL: 'https://vuestripe.com/stripe-checkout/one-time-payment/',\n      cancelURL: 'https://vuestripe.com/stripe-checkout/one-time-payment/',\n      dialogVisible: false,\n      selectedRecipe: {},\n    };\n  },\n  methods: {\n\n    submit() {\n      // You will be redirected to Stripe's secure checkout page\n      this.$refs.checkoutRef.redirectToCheckout();\n      return this.order()\n    },\n\n    send(){\n      api.customers.sendMail(this.message)\n          .then(() => this.$emit(\"refresh\"));\n    },\n    order(){\n        var socket = new SockJS(\"http://localhost:8088/api/websocket\");\n        var stompClient = Stomp.over(socket);\n        stompClient.connect(\n            {},\n            // eslint-disable-next-line no-unused-vars\n            frame =>{\n\n              stompClient.send(\"/messages\", JSON.stringify({message: \"New order has been placed\"}))\n\n              //var username = this.$store.getters[\"auth/getUsername\"];\n            }\n        )\n    },\n    logout() {\n      this.$store.dispatch(\"auth/logout\");\n      router.push(\"/\");\n    },\n\n    async refreshList() {\n      this.dialogVisible = false;\n      this.selectedRecipe = {};\n      this.recipes = await api.recipes.allRecipes();\n    },\n  },\n\n  created() {\n    this.refreshList();\n  },\n};\n</script>\n\n<style scoped></style>"]}]}