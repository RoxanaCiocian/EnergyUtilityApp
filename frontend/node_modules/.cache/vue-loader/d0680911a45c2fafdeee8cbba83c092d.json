{"remainingRequest":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\views\\ValuesList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\src\\views\\ValuesList.vue","mtime":1639656727265},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\babel-loader\\lib\\index.js","mtime":1636981172297},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636730066257},{"path":"D:\\SCHOOL\\AN 4\\DS\\Assig2\\frontendV2\\node_modules\\vue-loader\\lib\\index.js","mtime":1636981183272}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXBpIGZyb20gIi4uL2FwaSI7DQppbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7DQppbXBvcnQgU3RvbXAgZnJvbSAid2Vic3RvbXAtY2xpZW50IjsNCmltcG9ydCBTb2NrSlMgZnJvbSAic29ja2pzLWNsaWVudCI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkRldmljZXNMaXN0IiwNCiAgLy9jb21wb25lbnRzOiBDbGllbnRMaXN0U2Vuc29yc1Z1ZSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdXNlcnM6IFtdLA0KICAgICAgc2VhcmNoOiAiIiwNCiAgICAgIGhlYWRlcnM6IFsNCiAgICAgICAgew0KICAgICAgICAgIHRleHQ6ICJUaW1lc3RhbXAiLA0KICAgICAgICAgIGFsaWduOiAic3RhcnQiLA0KICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZSwNCiAgICAgICAgICB2YWx1ZTogInRpbWVTdGFtcCIsDQogICAgICAgIH0sDQogICAgICAgIHsgdGV4dDogIlZhbHVlIiwgdmFsdWU6ICJ2YWx1ZSIgfSwNCiAgICAgICAgeyB0ZXh0OiAiU2Vuc29yIElEIiwgdmFsdWU6ICJzZW5zb3JJZCIgfSwNCiAgICAgICAgLy8geyB0ZXh0OiAiUm9sZXMiLCB2YWx1ZTogInJvbGVzIiB9LA0KICAgICAgXSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgc2VsZWN0ZWRVc2VyOiB7fSwNCiAgICB9Ow0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBlZGl0VXNlcih1c2VyKSB7DQogICAgICB0aGlzLnNlbGVjdGVkVXNlciA9IHVzZXI7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgYXN5bmMgcmVmcmVzaExpc3QoKSB7DQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRVc2VyID0ge307DQogICAgLy8gICBjb25zdCBpZCA9IENsaWVudExpc3RTZW5zb3JzVnVlLmlkOw0KICAgIC8vICAgY29uc29sZS5sb2coaWQpOw0KICAgICAgdGhpcy51c2VycyA9IGF3YWl0IGFwaS52YWx1ZXMuYWxsVmFsdWVzcygpOw0KICAgIH0sDQogICAgZ29Ub1NlbnNvcnMoKSB7DQogICAgICAgIHJvdXRlci5wdXNoKCIvc2Vuc29ycy9jbGllbnQiKTsNCiAgICB9LA0KICB9LA0KDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgdGhpcy51c2VycyA9IGF3YWl0IGFwaS52YWx1ZXMuYWxsVmFsdWVzcygpOw0KICAgIHRoaXMucmVmcmVzaExpc3QoKTsNCiAgICB0aGlzLnN0b21wQ2xpZW50ID0gU3RvbXAub3ZlcigNCiAgICAgIG5ldyBTb2NrSlMoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9ncy1ndWlkZS13ZWJzb2NrZXQiKQ0KICAgICk7DQogICAgdGhpcy5zdG9tcENsaWVudC5jb25uZWN0KA0KICAgICAge30sDQogICAgICAoZnJhbWUpID0+IHsNCiAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSB0cnVlOw0KICAgICAgICBjb25zb2xlLmxvZyhmcmFtZSk7DQogICAgICAgIHRoaXMuc3RvbXBDbGllbnQuc3Vic2NyaWJlKCIvc2Vuc29ycy9jbGllbnQvdmFsdWVzIiwgKG1lc3NhZ2UpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTsNCiAgICAgICAgICBhbGVydChtZXNzYWdlLmJvZHkpOw0KICAgICAgICB9KTsNCiAgICAgIH0sDQogICAgICAoZXJyb3IpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlOw0KICAgICAgfQ0KICAgICk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["ValuesList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ValuesList.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <v-card>\r\n    <v-card-title>\r\n      Values - Client\r\n      <v-spacer></v-spacer>\r\n      <v-text-field\r\n        v-model=\"search\"\r\n        append-icon=\"mdi-magnify\"\r\n        label=\"Search\"\r\n        single-line\r\n        hide-details\r\n      ></v-text-field>\r\n    </v-card-title>\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"users\"\r\n      :search=\"search\"\r\n      @click:row=\"editUser\"\r\n    ></v-data-table>    \r\n    <v-btn @click=\"goToSensors\">Go to sensors</v-btn>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nimport api from \"../api\";\r\nimport router from \"../router\";\r\nimport Stomp from \"webstomp-client\";\r\nimport SockJS from \"sockjs-client\";\r\n\r\nexport default {\r\n  name: \"DevicesList\",\r\n  //components: ClientListSensorsVue,\r\n  data() {\r\n    return {\r\n      users: [],\r\n      search: \"\",\r\n      headers: [\r\n        {\r\n          text: \"Timestamp\",\r\n          align: \"start\",\r\n          sortable: false,\r\n          value: \"timeStamp\",\r\n        },\r\n        { text: \"Value\", value: \"value\" },\r\n        { text: \"Sensor ID\", value: \"sensorId\" },\r\n        // { text: \"Roles\", value: \"roles\" },\r\n      ],\r\n      dialogVisible: false,\r\n      selectedUser: {},\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    editUser(user) {\r\n      this.selectedUser = user;\r\n      this.dialogVisible = true;\r\n    },\r\n    async refreshList() {\r\n      this.dialogVisible = false;\r\n      this.selectedUser = {};\r\n    //   const id = ClientListSensorsVue.id;\r\n    //   console.log(id);\r\n      this.users = await api.values.allValuess();\r\n    },\r\n    goToSensors() {\r\n        router.push(\"/sensors/client\");\r\n    },\r\n  },\r\n\r\n  async created() {\r\n    this.users = await api.values.allValuess();\r\n    this.refreshList();\r\n    this.stompClient = Stomp.over(\r\n      new SockJS(\"http://localhost:8080/gs-guide-websocket\")\r\n    );\r\n    this.stompClient.connect(\r\n      {},\r\n      (frame) => {\r\n        this.connected = true;\r\n        console.log(frame);\r\n        this.stompClient.subscribe(\"/sensors/client/values\", (message) => {\r\n          console.log(message);\r\n          alert(message.body);\r\n        });\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        this.connected = false;\r\n      }\r\n    );\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped></style>\r\n"]}]}