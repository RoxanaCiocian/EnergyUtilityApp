{"remainingRequest":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\src\\view\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\src\\view\\Login.vue","mtime":1625137523000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\andre\\Desktop\\final-project-AndreeaPasc-master\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCiAgICBpbXBvcnQgcm91dGVyIGZyb20gIi4uL3JvdXRlciI7CiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiSGVsbG9Xb3JsZCIsCiAgICBkYXRhOiAoKSA9PiAoewogICAgbW9kZTogImxvZ2luIiwKICAgIGxvZ2luOiB7CiAgICBlbWFpbDogIiIsCiAgICB1c2VybmFtZTogImFsZXgiLAogICAgcGFzc3dvcmQ6ICJXb29Ib28xISIsCn0sCn0pLAogICAgbWV0aG9kczogewogICAgYXR0ZW1wdExvZ2luKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9naW4iLCB0aGlzLmxvZ2luKS50aGVuKCgpID0+IHsKICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoLnN0YXR1cy5sb2dnZWRJbikgewogICAgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNBZG1pbiJdKSB7CiAgICByb3V0ZXIucHVzaCgiL3VzZXJzIik7Cn0gZWxzZSBpZiAodGhpcy4kc3RvcmUuZ2V0dGVyc1siYXV0aC9pc01hbmFnZXIiXSkgIHsKICAgIHJvdXRlci5wdXNoKCIvcmVjaXBlcyIpOwp9IGVsc2UgaWYgKHRoaXMuJHN0b3JlLmdldHRlcnNbImF1dGgvaXNDdXN0b21lciJdKSAgewogICAgICByb3V0ZXIucHVzaCgiL2N1c3RvbWVycyIpOwogICAgfQp9IGVsc2UgewogICAgYWxlcnQoIkludmFsaWQgY3JlZGVudGlhbHMhIik7Cn0KfSk7Cn0sCiAgICBhc3luYyBhdHRlbXB0UmVnaXN0ZXIoKSB7CiAgICBhd2FpdCB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXV0aC9yZWdpc3RlciIsIHRoaXMubG9naW4pOwp9LAogICAgdG9nZ2xlTW9kZSgpIHsKICAgIHRoaXMubW9kZSA9IHRoaXMubW9kZSA9PT0gImxvZ2luIiA/ICJyZWdpc3RlciIgOiAibG9naW4iOwp9LAogICAgbG9nb3V0KCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImF1dGgvbG9nb3V0Iik7Cn0sCn0sCiAgICBjb21wdXRlZDogewogICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGguc3RhdHVzLmxvZ2dlZEluOwp9LAogICAgaW5Mb2dpbk1vZGU6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0aGlzLm1vZGUgPT09ICJsb2dpbiI7Cn0sCn0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/view","sourcesContent":["<template>\n    <v-container>\n        <v-layout row justify-center pt-3>\n            <v-flex xs4 class=\"grey lighten-4\">\n                <v-container class=\"text-xs-center\">\n                    <v-card flat>\n                        <v-card-title primary-title>\n                            <h4 v-if=\"inLoginMode\">Login</h4>\n                            <h4 v-else>Register</h4>\n                        </v-card-title>\n                        <v-form>\n                            <v-text-field\n                                v-if=\"mode === 'register'\"\n                                prepend-icon=\"email\"\n                                name=\"Email\"\n                                label=\"Email\"\n                                v-model=\"login.email\"\n                                validate-on-blur\n                            >\n                            </v-text-field>\n                            <v-text-field\n                                prepend-icon=\"person\"\n                                name=\"Username\"\n                                label=\"Username\"\n                                v-model=\"login.username\"\n                                validate-on-blur\n                            ></v-text-field>\n                            <v-text-field\n                                prepend-icon=\"lock\"\n                                name=\"Password\"\n                                label=\"Password\"\n                                type=\"password\"\n                                v-model=\"login.password\"\n                                validate-on-blur\n                            ></v-text-field>\n                            <v-card-actions>\n                                <v-container>\n                                    <v-layout v-if=\"inLoginMode\" row justify-center>\n                                        <v-btn primary large block @click=\"attemptLogin\"\n                                    >Login</v-btn\n                                    >\n                                    <v-btn plain @click=\"toggleMode\">\n                                    No account? Click to register!\n                                </v-btn>\n        </v-layout>\n\n        <v-layout v-else row justify-center>\n            <v-btn primary large block @click=\"attemptRegister\"\n        >Register</v-btn\n        >\n        <v-btn plain @click=\"toggleMode\">\n        Already registered? Click to login!\n    </v-btn>\n</v-layout>\n\n<v-layout v-if=\"isLoggedIn\" row justify-center>\n    <v-btn @click=\"logout\"> Logout </v-btn>\n</v-layout>\n</v-container>\n</v-card-actions>\n</v-form>\n</v-card>\n</v-container>\n</v-flex>\n</v-layout>\n</v-container>\n</template>\n\n<script>\n    import router from \"../router\";\n    export default {\n    name: \"HelloWorld\",\n    data: () => ({\n    mode: \"login\",\n    login: {\n    email: \"\",\n    username: \"alex\",\n    password: \"WooHoo1!\",\n},\n}),\n    methods: {\n    attemptLogin() {\n    this.$store.dispatch(\"auth/login\", this.login).then(() => {\n    if (this.$store.state.auth.status.loggedIn) {\n    if (this.$store.getters[\"auth/isAdmin\"]) {\n    router.push(\"/users\");\n} else if (this.$store.getters[\"auth/isManager\"])  {\n    router.push(\"/recipes\");\n} else if (this.$store.getters[\"auth/isCustomer\"])  {\n      router.push(\"/customers\");\n    }\n} else {\n    alert(\"Invalid credentials!\");\n}\n});\n},\n    async attemptRegister() {\n    await this.$store.dispatch(\"auth/register\", this.login);\n},\n    toggleMode() {\n    this.mode = this.mode === \"login\" ? \"register\" : \"login\";\n},\n    logout() {\n    this.$store.dispatch(\"auth/logout\");\n},\n},\n    computed: {\n    isLoggedIn: function () {\n    return this.$store.state.auth.status.loggedIn;\n},\n    inLoginMode: function () {\n    return this.mode === \"login\";\n},\n},\n};\n</script>"]}]}